<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MOIRA â€“ Firmware Updater (ESP32-S3)</title>
  <link rel="stylesheet" href="./assets/styles.css" />
  <!-- Espressif Web Tools (official web-component) -->
  <script type="module" src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"></script>
</head>
<body>
  <main class="container">
    <section>
      <h1>ğŸ’½ MOIRA Firmware Updater â€“ THYMOS devices (ESP32-S3)</h1>
      <p>Toto pouÅ¾Ã­vÃ¡ oficiÃ¡lnÃ­ <em>Espressif Web Flasher</em>. VybereÅ¡ port, nÃ¡stroj sÃ¡m rozpoznÃ¡ Äip a nahraje soubory dle <code>manifest.json</code>. Je-li v manifestu vÃ­ce buildÅ¯, zobrazÃ­ se jejich vÃ½bÄ›r automaticky.</p>
    </section>

    <section class="card">
      <h2>ğŸ”Œ PÅ™ipojenÃ­ a flash</h2>
      <!-- Keep manifest static => relative paths resolve correctly -->
      <esp-web-install-button manifest="./firmwareFiles/manifest.json"></esp-web-install-button>
      <noscript>Pro flashovÃ¡nÃ­ je potÅ™eba mÃ­t povolenÃ½ JavaScript a modernÃ­ prohlÃ­Å¾eÄ s Web Serial API (Chrome, Edge, Opera).</noscript>
      <div class="note"><p>âš ï¸ BÄ›Å¾Ã­ pouze pÅ™es <strong>HTTPS</strong> nebo na <code>http://localhost</code>.</p></div>
    </section>

    <section class="card">
      <h2>ğŸ“ Log</h2>
      <pre id="logOutput" class="log"></pre>
      <p class="note">Pozn.: Pokud v konzoli uvidÃ­Å¡ hlÃ¡Å¡ku â€Improv Wiâ€‘Fi Serial not detectedâ€œ, je to neÅ¡kodnÃ© â€“ jen se detekovalo, Å¾e firmware nepodporuje Improv. Flash tÃ­m nenÃ­ ovlivnÄ›n.</p>
    </section>
  </main>
  <script type="module" src="./scripts/updateAppMain.js"></script>
</body>
</html>
