<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Enter → další input (bez &lt;form&gt;)</title>
  <style>
    :root { --gap: .75rem; --radius: .5rem; }

    body {
      margin: 0; padding: 2rem;
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #f6f7f9;
    }

    .card {
      max-width: 900px; margin: 0 auto; background: #fff; border-radius: var(--radius);
      box-shadow: 0 6px 30px rgba(0,0,0,.06); padding: 1.25rem;
    }

    h1 { font-size: 1.15rem; margin: 0 0 1rem; }

    .grid {
      display: grid;
      gap: var(--gap);
      grid-template-columns: repeat(2, minmax(240px, 1fr));
      align-items: start;
    }

    label { display: grid; gap: .35rem; font-size: .95rem; }
    input, select, textarea {
      padding: .55rem .7rem; border: 1px solid #d1d5db; border-radius: .4rem;
      background: #fff; outline: none;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #6b7280; box-shadow: 0 0 0 3px rgba(107,114,128,.15);
    }

    .row-2 { grid-column: 1 / -1; }
    .hint { color: #6b7280; font-size: .9rem; margin-top: .75rem; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Enter potvrzuje a skáče na další pole (bez formuláře)</h1>

    <div class="grid" id="grid" role="group" aria-label="Vstupní pole">
      <label>
        Jméno
        <input type="text" name="firstName" autocomplete="off" required>
      </label>

      <label>
        Příjmení
        <input type="text" name="lastName" autocomplete="off" required>
      </label>

      <label>
        Věk
        <input type="number" name="age" inputmode="numeric" min="0" max="120">
      </label>

      <label>
        Město
        <input type="text" name="city" autocomplete="off">
      </label>

      <label>
        E-mail
        <input type="email" name="email" autocomplete="email" required>
      </label>

      <label>
        Země
        <select name="country">
          <option value="">— vyber —</option>
          <option value="cz">Česko</option>
          <option value="sk">Slovensko</option>
          <option value="pl">Polsko</option>
        </select>
      </label>

      <label class="row-2">
        Poznámka (Enter zde vloží nový řádek)
        <textarea name="note" rows="3" placeholder="Textarea Enter neskáče dál, aby šly psát řádky."></textarea>
      </label>
    </div>

    <p class="hint">
      Tip: <kbd>Enter</kbd> → další pole, <kbd>Shift</kbd> + <kbd>Enter</kbd> → předchozí.
      (Žádné odeslání, protože tu není formulář.)
    </p>

    <div style="margin-top: 1rem;">
      <button id="readDataBtn" type="button">Přečíst data (demo)</button>
    </div>
  </div>

  <script>
    const container = document.getElementById('grid');

    // Focusovatelné prvky (mimo skryté/disabled)
    function getFocusableInputs(root = document) {
      return Array.from(root.querySelectorAll(
        'input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled])'
      )).filter(el => !el.closest('[aria-hidden="true"], [hidden]'));
    }

    // Enter v inputech/selectech skáče dál; textarea necháme psát nové řádky
    container.addEventListener('keydown', (e) => {
      const isEnter = e.key === 'Enter';
      if (!isEnter) return;

      // nechceme chytat Enter v textarea
      if (e.target.tagName === 'TEXTAREA') return;

      // pokud je aktivní IME (kompozice), Enter ignorujeme
      if (e.isComposing) return;

      // zabráníme implicitním akcím (např. kliknutí na default button)
      e.preventDefault();

      const inputs = getFocusableInputs(container);
      const current = e.target;
      const idx = inputs.indexOf(current);
      if (idx === -1) return;

      // Volitelná validace aktuálního pole (funguje i bez <form>)
      if (typeof current.reportValidity === 'function' && !current.reportValidity()) {
        return;
      }

      current.blur(); // spustí případné onblur handlery

      const nextIndex = e.shiftKey ? idx - 1 : idx + 1;

      if (nextIndex >= 0 && nextIndex < inputs.length) {
        const next = inputs[nextIndex];
        next.focus();
        if (next.select && next.type !== 'number') next.select();
      }
      // Cyklování na začátek/konec – kdybys chtěl, odkomentuj:
      // else {
      //   const wrap = (nextIndex + inputs.length) % inputs.length;
      //   const next = inputs[wrap];
      //   next.focus();
      //   if (next.select && next.type !== 'number') next.select();
      // }
    });

    // Demo: tlačítko, které „přečte“ hodnoty (protože už tu není submit)
    document.getElementById('readDataBtn').addEventListener('click', () => {
      const data = {};
      container.querySelectorAll('input, select, textarea').forEach(el => {
        data[el.name || el.id || el.tagName.toLowerCase()] = el.value;
      });
      alert('Nasbíraná data (demo):\n' + JSON.stringify(data, null, 2));
    });
  </script>
</body>
</html>
